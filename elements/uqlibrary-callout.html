<link rel="import" href="elements.html">

<!--
`<uqlibrary-callout>` is a simple element that displays a UQ Library styled "call out" popup. Menu items are supplied
by JSON file or JSON object in the same format. See the demo for JSON examples

Example:

    <uqlibrary-callout json-file="../demo/data.json"></uqlibrary-callout>
    <uqlibrary-callout menu="{{menuObjects}}"></uqlibrary-callout>

@demo

@demo demo/index.html
-->
<dom-module id="uqlibrary-callout">


    <template>
        <!-- Custom styles -->
        <style include="common-styles"></style>
        <style>
            :host {
                font-family: var(--font-family);
                font-size: var(--body-font-size);
            }

            .main {
                width: 280px;
                margin-top: 10px;
                @apply(--uqlibrary-callout-menu);
            }

            .items {
                padding: 15px;
                @apply(--layout-horizontal);
                @apply(--layout-justified);
                @apply(--layout-wrap);
            }

            .callout-summary {
                border-top: 1px solid var(--border-color);
                text-align: center;
                display: block;
                width: 100%;
                padding: 10px;
                box-sizing: border-box;
                text-transform: uppercase;
                color: var(--theme-color);
            }

            paper-button {
                min-width: 110px;
                margin: 0.29em;
                @apply(--uqlibrary-callout-paper-button);
            }

            paper-button[disabled] .button-small, paper-button[disabled] iron-icon {
                color: var(--theme-color-light) !important;
            }

            paper-button[disabled]:hover {
                background-color: var(--text-color-inverse) !important;
            }

            /** Arrow Top Style **/
            .arrow-top {
                border: 1px solid var(--border-color);
                position: relative;
                background-color: #FFF;
                box-shadow: 0 2px 10px rgba(0,0,0,.3);
                -webkit-box-shadow: 0 2px 10px rgba(0,0,0,.3);
            }

            .arrow-top:after, .arrow-top:before {
                bottom: 100%;
                left: 50%;
                border: solid transparent;
                content: " ";
                height: 0;
                width: 0;
                position: absolute;
                pointer-events: none;
            }

            .arrow-top:after {
                border-color: rgba(255, 255, 255, 0);
                border-bottom-color: #FFF;
                border-width: 10px;
                margin-left: -10px;
            }

            .arrow-top:before {
                border-color: transparent;
                border-bottom-color: var(--border-color);
                border-width: 12px;
                margin-left: -12px;
            }
        </style>

        <div class="main arrow-top">
            <div class="items">
                <template is="dom-repeat" items="{{menuItems}}">
                    <paper-button
                            aria-label$="{{item.label}}"
                            class="button-colored-theme inverse"
                            disabled$="{{item.isDisabled}}"
                            role="button"
                            on-click="_itemClicked">
                        <iron-icon icon="{{item.icon}}"></iron-icon>
                        <div class="button-small">{{item.label}}</div>
                    </paper-button>
                </template>
            </div>

            <!-- Summary -->
            <template is="dom-if" if="{{summary}}">
                <a class="callout-summary" href$="{{summary.link}}" title$="{{summary.label}}" aria-label$="{{summary.label}}">{{summary.label}}</a>
            </template>
        </div>

    </template>
    <script src="uqlibrary-callout.js"></script>
</dom-module>